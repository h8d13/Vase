#... strucs
# This file is an absolute mess but everything is declared here
EDITOR="${EDITOR:-vim}"

################## VM STUFF
arch="x86_64"
ram="16000"
# 16384 4048 2024 1012
cores="6"
# vCPUS so actually threads but named it cores
size="60G" 
# Preallocation doesnt take space directly
## QEMU Settings
qemu_machine="q35"
# Machine type: q35, pc
qemu_display="sdl"
# Display backend: sdl, gtk, vnc
qemu_gl="on"
# GL acceleration: on, off
qemu_uefi=1
# UEFI boot: 1 or 0
qemu_network="user"
# Network: user, none, bridge
boot_menu="on"
# Boot menu: on, off

audio_backend="pipewire"  # pa, alsa, pipewire, or none
audio_device="intel-hda"  # intel-hda, AC97, usb-audio

## OVMF (UEFI firmware) paths
ovmf_code="/usr/share/edk2/x64/OVMF_CODE.4m.fd"
ovmf_vars_source="/usr/share/edk2/x64/OVMF_VARS.4m.fd"
ovmf_vars_local="OVMF_VARS.fd"
# Local writable copy, auto-created on first boot

vm_d="d"

iso_n="archlinux-x86_64"
iso_ext="iso" #raw, bin

vm_name="myvm0" 
#vm_name="myvm1" #gnome-testing
#vm_name="myvm2" #alpine
#vm_name="myvm3" #arch
#dupkvm will look something like this 9c901bmyvm1

vm_ext="qcow2" #raw, bin

## For running with attached storage
target_p="sdc"
target_t="/dev/"
target="${target_t}${target_p}"
## This can also be a mounted fs
# Mount it first. 
# Check lsblk output to find which partition it is. 
# Ex sdd3 8:51   0 880.5G  0 part /run/media/usr/UUID

################## DIRS/LOGS/PERMS
s_dir="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
rel="$s_dir/"
# Dir mods
hide_d="."
ext_d=".d"
hide_d_mod=1  # 1=hidden, 0=visible
ext_d_mod=1 # 1=hidden, 0=visible
# Build custom_n with conditional prefix and suffix
custom_n="vase"
[ "$hide_d_mod" = "1" ] && custom_n="${hide_d}${custom_n}"
[ "$ext_d_mod" = "1" ] && custom_n="${custom_n}${ext_d}"

#### Names
p_lib="$custom_n"
c_file="logs"
c_ext="conf"
rcw_file="rcw"
log_n="vase"
log_ext="log"
cli_a="cli_art"

#### More paths
vase_d="vase_os"
zl_d="$vase_d/zazu_lago"

vase_p_env="$vase_d/env"
vase_p_deps="$vase_d/mindeps"
cc_py="$vase_d/clean_cache"

## For runtime output
script_s=$(date +%s%6N)
